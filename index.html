<!DOCTYPE html>
<html>
<head lang="zh-CN">
    <meta charset="UTF-8">
    <title>欢迎使用form2util插件</title>

    <link rel="stylesheet" href="css/bootstrap/3.3.2/bootstrap.min.css">
    <link rel="stylesheet" href="css/formvalidation/0.6.0/formValidation.min.css">
</head>
<body>

<div class="container">
    <div class="row">
        <!-- form: -->
        <section>
            <div class="col-md-8 col-md-offset-2">
                <div class="page-header">
                    <h2>测试表单</h2>
                </div>

                <form id="defaultForm" method="post" class="form-horizontal" action="#"
                      data-fv-message="This value is not valid"
                      data-fv-icon-valid="glyphicon glyphicon-ok"
                      data-fv-icon-invalid="glyphicon glyphicon-remove"
                      data-fv-icon-validating="glyphicon glyphicon-refresh">
                    <div class="form-group">
                        <label class="col-md-3 control-label">姓名</label>
                        <div class="col-md-4">
                            <input type="text" class="form-control" name="userinfo.firstName" placeholder="请输入您的姓氏" required data-fv-notempty-message="姓氏不能为空" />
                        </div>
                        <div class="col-md-4">
                            <input type="text" class="form-control" name="userinfo.lastName" placeholder="请输入您的名字" required data-fv-notempty-message="名字不能为空" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">账号</label>
                        <div class="col-md-5">
                            <input type="text" class="form-control" name="userinfo.username" placeholder="请输入您的账号"
                                   data-fv-trigger="blur"
                                   data-fv-message="无效的账号"
                                   required data-fv-notempty-message="账号不能为空"
                                   pattern="[a-zA-Z0-9_\.]+" data-fv-regexp-message="账号只能包含字母、数字和下划线"
                                   minlength="5" data-fv-stringlength-message="账号长度必须大于5" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">邮箱</label>
                        <div class="col-md-5">
                            <input class="form-control" name="userinfo.email" placeholder="请输入您的电子邮箱" type="email"
                                   required data-fv-notempty-message="电子邮箱不能为空"
                                   data-fv-emailaddress="true" data-fv-emailaddress-message="电子邮箱格式错误" />
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">居住城市</label>
                        <div class="col-md-5">
                            <input type="text" class="form-control" name="address.city" placeholder="请输入您居住的城市"
                                   required data-fv-notempty-message="居住城市不能为空"/>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="col-md-3 control-label">邮编</label>
                        <div class="col-md-5">
                            <input type="text" class="form-control" name="address.zip" placeholder="请输入您的邮编"
                                   required data-fv-notempty-message="邮编不能为空"/>
                        </div>
                    </div>

                    <div class="form-group">
                        <div class="col-md-9 col-md-offset-3">
                            <button type="submit" class="btn btn-primary">保存</button>
                        </div>
                    </div>
                </form>
            </div>
        </section>
        <!-- :form -->
    </div>
</div>

<script src="js/jquery/2.1.3/jquery.min.js"></script>
<script src="js/bootstrap/3.3.2/bootstrap.min.js"></script>
<script src="js/formvalidation/0.6.0/formValidation.min.js"></script>
<script src="js/formvalidation/0.6.0/framework/bootstrap.min.js"></script>
<script src="js/form2json/1.0/form2json.js"></script>

<script type="text/javascript">
    $(function() {
        $('#defaultForm').formValidation().on('success.form.fv', function(e) {
            // Prevent form submission
            e.preventDefault();

            // Get the form instance
            var $form = $(e.target);

            alert($($form).form2json());
        });
    });
</script>

</body>
</html>